{"version":3,"sources":["context/usersContext.js","context/types.js","context/usersReducer.js","context/UsersState.js","components/BirthBlock/UserBirth.js","components/BirthBlock/BirthBlock.js","assets/images/drawing_pin.png","components/UsersBirth.js","components/AbcBlock/AbcBlockUsers.js","components/AbcBlock/AbcBlock.js","components/UsersList.js","components/Preloader.js","pages/Employees.js","App.js","index.js"],"names":["UsersContext","createContext","SHOW_PRELOADER","HIDE_PRELOADER","FETCH_USERS","SET_IS_CHECKED","handlers","state","loading","payload","users","userId","map","user","id","isChecked","usersReducer","action","type","DEFAULT","UsersState","children","useReducer","dispatch","fetchUsers","a","axios","get","res","data","Provider","value","birthdays","setIsUserChecked","UserBirth","filteredUsers","className","u","date","format","Date","dob","lastName","firstName","BirthBlock","months","checkedUsers","filter","length","m","index","indexOf","getMonth","UsersBirth","src","pinImg","alt","AbcBlockUsers","mappedUsers","User","useState","setIsChecked","useContext","checked","onChange","AbcBlock","alphabet","toUpperCase","split","letter","UsersList","onAddBirthday","Preloader","Employees","useEffect","App","path","exact","component","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.f080b4cc.chunk.js","sourcesContent":["import {createContext} from 'react';\r\n\r\nexport const UsersContext = createContext(); ","export const SHOW_PRELOADER = 'SHOW_PRELOADER';\r\nexport const HIDE_PRELOADER = 'HIDE_PRELOADER';\r\nexport const FETCH_USERS = 'FETCH_USERS';\r\nexport const SET_IS_CHECKED = 'FETCH_USERS';","import {FETCH_USERS, SHOW_PRELOADER, HIDE_PRELOADER, SET_IS_CHECKED } from \"./types\";\r\n\r\nconst handlers = {\r\n    [SHOW_PRELOADER]: state => ({...state, loading: true}),\r\n    [HIDE_PRELOADER]: state => ({...state, loading: false}),\r\n    [FETCH_USERS]: (state, {payload}) => ({...state, users: payload}),\r\n    [SET_IS_CHECKED]: (state, {payload, userId}) => ({...state, users: payload.map(user => {\r\n        if (user.id === userId) {\r\n            return {...user, isChecked: !user.isChecked}\r\n        } \r\n        return user;\r\n    })}),\r\n    DEFAULT: state => state\r\n};\r\n\r\nexport const usersReducer = (state, action) => {\r\n const handle = handlers[action.type] || handlers.DEFAULT;\r\n return handle(state, action);   \r\n};","import React, { useReducer } from \"react\";\r\nimport axios from \"axios\";\r\nimport { UsersContext } from \"./usersContext\";\r\nimport { usersReducer } from \"./usersReducer\";\r\nimport {\r\n  FETCH_USERS,\r\n  HIDE_PRELOADER,\r\n  SET_IS_CHECKED,\r\n  SHOW_PRELOADER,\r\n} from \"./types\";\r\n\r\nexport const UsersState = ({ children }) => {\r\n  const initialState = {\r\n    users: [],\r\n    loading: false,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(usersReducer, initialState);\r\n\r\n  const showPreloader = () => dispatch({ type: SHOW_PRELOADER });\r\n  const hidePreloader = () => dispatch({ type: HIDE_PRELOADER });\r\n\r\n  const fetchUsers = async () => {\r\n    showPreloader();\r\n    const res = await axios.get(\r\n      \"https://yalantis-react-school-api.yalantis.com/api/task0/users\"\r\n    );\r\n    hidePreloader();\r\n    const payload = res.data.map((user) => {\r\n      return {\r\n        ...user,\r\n        isChecked: false,\r\n      };\r\n    });\r\n    dispatch({ type: FETCH_USERS, payload });\r\n  };\r\n\r\n  const setIsUserChecked = (userId) => {\r\n    dispatch({ type: SET_IS_CHECKED, payload: state.users, userId });\r\n  };\r\n\r\n  return (\r\n    <UsersContext.Provider\r\n      value={{\r\n        fetchUsers,\r\n        users: state.users,\r\n        birthdays: state.birthdays,\r\n        loading: state.loading,\r\n        setIsUserChecked,\r\n      }}\r\n    >\r\n      {children}\r\n    </UsersContext.Provider>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { format } from \"date-fns\";\r\n\r\nexport const UserBirth = ({ filteredUsers }) => {\r\n    return (\r\n      <div className='birth-item'>\r\n        {filteredUsers.map((u) => {\r\n          const date = format(new Date(u.dob), \"dd MMMM, yyyy 'year'\");\r\n          return (\r\n            <li key={u.id}>\r\n              <span>{u.lastName}</span>\r\n              <span>{u.firstName}</span>-<span className='date'>{date}</span>\r\n            </li>\r\n          );\r\n        })}\r\n      </div>\r\n    );\r\n  };\r\n  ","import React from \"react\";\r\nimport { getMonth } from \"date-fns\";\r\nimport { UserBirth } from \"./UserBirth\";\r\n\r\nexport const BirthBlock = ({ users }) => {\r\n  const months = [\r\n    \"January\",\r\n    \"Feburary\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\",\r\n  ];\r\n  const checkedUsers = users.filter((u) => u.isChecked);\r\n  if(checkedUsers.length === 0) {\r\n    return <h3>No employees selected</h3>;\r\n  }\r\n  return (\r\n    <>\r\n      {months.map((m, index) => {\r\n        const filteredUsers = checkedUsers.filter(\r\n          (u) => months.indexOf(m) === getMonth(new Date(u.dob))\r\n        );\r\n        return (\r\n          <div key={index} className='birth-block'>\r\n            {filteredUsers.length > 0 ? (\r\n              <>\r\n                <h4>{m}</h4>\r\n                <ul>\r\n                  <UserBirth filteredUsers={filteredUsers} />\r\n                </ul>\r\n              </>\r\n            ) : null}\r\n          </div>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\n","export default __webpack_public_path__ + \"static/media/drawing_pin.710f7ea5.png\";","import React from \"react\";\r\nimport { BirthBlock } from './BirthBlock/BirthBlock';\r\nimport pinImg from '../assets/images/drawing_pin.png';\r\n\r\nexport const UsersBirth = ({users}) => {\r\n  return(\r\n    <div className='birth-container'>\r\n      <img src={pinImg} alt='Drawing pin'></img>\r\n      <h2>Employees birthday</h2>\r\n      <BirthBlock users={users} />\r\n    </div>\r\n  ) \r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useContext, useState } from \"react\";\r\nimport { UsersContext } from \"../../context/usersContext\";\r\n\r\nexport const AbcBlockUsers = ({ filteredUsers }) => {\r\n  //Returns array of User components created from previously filtered users.\r\n  const mappedUsers = filteredUsers.map((u) => {\r\n    return <User key={u.id} lastName={u.lastName} firstName={u.firstName} id={u.id} />;\r\n  });\r\n  return <>{mappedUsers}</>; \r\n};\r\n\r\nconst User = ({ lastName, firstName, id }) => {\r\n  const [isChecked, setIsChecked] = useState(false);\r\n  const {setIsUserChecked} = useContext(UsersContext);\r\n  const onCheckedHandle = () => {\r\n    setIsChecked(!isChecked)\r\n    setIsUserChecked(id);\r\n  }\r\n  return (\r\n    <div className='abc-user'>\r\n      <span>{lastName}</span>\r\n      <span>{firstName}</span>\r\n      <div className='space'></div>\r\n      <input\r\n        checked={isChecked}\r\n        onChange={() => onCheckedHandle()}\r\n        type=\"checkbox\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { AbcBlockUsers } from \"./AbcBlockUsers\";\r\n\r\nexport const AbcBlock = ({ users }) => {\r\n  const alphabet = \"abcdefghijklmnopqrstuvwxyz\".toUpperCase().split(\"\");\r\n  return (\r\n    <>\r\n      {alphabet.map((letter, index) => {\r\n         //Filtering out users that aren't equal to certain letter in alphabet.\r\n        const filteredUsers = users.filter((u) => u.lastName[0] === letter);  \r\n        return (\r\n          <div className='abc-block' key={index}>\r\n            <h1>{letter}</h1>\r\n            {filteredUsers.length > 0 ?  <AbcBlockUsers filteredUsers={filteredUsers}/> : <div>--------</div>}\r\n          </div>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { AbcBlock } from \"./AbcBlock/AbcBlock\";\r\n\r\nexport const UsersList = ({ users, onAddBirthday }) => {\r\n  return (\r\n    <div className=\"abc-container\">\r\n      <div className='users-list-title'>Employees</div>\r\n      <AbcBlock users={users} />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Preloader = () => {\r\n  return <div>Loading...</div>;\r\n};\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { UsersBirth } from \"../components/UsersBirth\";\r\nimport { UsersList } from \"../components/UsersList\";\r\nimport { UsersContext } from \"../context/usersContext\";\r\nimport { Preloader } from '../components/Preloader';\r\n\r\nexport const Employees = () => {\r\nconst {fetchUsers, users, loading} = useContext(UsersContext);\r\n\r\nuseEffect(() => {\r\n  fetchUsers();\r\n      //eslint-disable-next-line\r\n}, []);\r\n\r\n  return (\r\n    <div className='container'>\r\n      {loading ? <Preloader />:  <UsersList users={users} />}\r\n      <UsersBirth users={users} />\r\n    </div>\r\n  );\r\n};\r\n\r\n","import { Route, Switch } from \"react-router-dom\";\nimport { UsersState } from \"./context/UsersState\";\nimport { Employees } from \"./pages/Employees\";\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <UsersState>\n        <Switch>\n        <Route path=\"/\" exact component={Employees} />\n        <Route path=\"/employees\" exact component={Employees} />\n        </Switch>\n      </UsersState>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}