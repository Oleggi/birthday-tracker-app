{"version":3,"sources":["context/usersContext.js","context/types.js","Utils/mappedUsersHelper.js","Utils/getFromLocalStHelper.js","context/usersReducer.js","context/UsersState.js","Utils/localStHelper.js","components/UsersBirth/BirthBlock/UserBirth.js","components/UsersBirth/BirthBlock/BirthBlock.js","assets/images/drawing_pin.png","components/UsersBirth/UsersBirth.js","components/UsersList/AbcBlock/AbcBlockUsers.js","components/UsersList/AbcBlock/AbcBlock.js","components/UsersList/UsersList.js","components/Preloader.js","pages/Employees.js","App.js","index.js"],"names":["UsersContext","createContext","SHOW_PRELOADER","HIDE_PRELOADER","FETCH_USERS","SET_IS_CHECKED","GET_FROM_LOCAL_STORAGE","mappedUsersHelper","users","userId","map","user","id","isChecked","getFromLocalStHelper","activeUsersId","store","get","length","u","includes","handlers","state","loading","payload","usersReducer","action","type","DEFAULT","UsersState","children","useReducer","checkedUsers","dispatch","fetchUsers","a","axios","res","data","Provider","value","getDataFromLocalStorage","setIsUserChecked","initialStore","isMacthed","activeUsers","filter","set","setToLocalStorage","UserBirth","filteredUsers","className","date","format","Date","dob","lastName","firstName","BirthBlock","months","m","index","indexOf","getMonth","UsersBirth","src","pinImg","alt","AbcBlockUsers","mappedUsers","User","useContext","checked","onChange","AbcBlock","alphabet","toUpperCase","split","letter","UsersList","onAddBirthday","Preloader","Employees","useEffect","then","App","path","exact","component","to","ReactDOM","render","StrictMode","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.dbf9bd56.chunk.js","sourcesContent":["import {createContext} from 'react';\r\n\r\nexport const UsersContext = createContext(); ","export const SHOW_PRELOADER = 'SHOW_PRELOADER';\r\nexport const HIDE_PRELOADER = 'HIDE_PRELOADER';\r\nexport const FETCH_USERS = 'FETCH_USERS';\r\nexport const SET_IS_CHECKED = 'FETCH_USERS';\r\nexport const GET_FROM_LOCAL_STORAGE = 'GET_FROM_LOCAL_STORAGE';","\r\nexport const mappedUsersHelper = (users, userId) => {\r\n    return (\r\n        users.map(user => {\r\n            if (user.id === userId) {\r\n                return {...user, isChecked: !user.isChecked}\r\n            } \r\n            return user;\r\n        })\r\n    )\r\n};\r\n\r\n\r\n","import store from \"store\";\r\n\r\n\r\nexport const getFromLocalStHelper = (users) => {\r\n    const activeUsersId = store.get('activeUsers') || [];\r\n    if (activeUsersId.length < 0) return users;\r\n    return users.map(u => {\r\n        return activeUsersId.includes(u.id) ? {...u, isChecked: true} : u;\r\n    })\r\n};\r\n","import {\r\n  FETCH_USERS,\r\n  SHOW_PRELOADER,\r\n  HIDE_PRELOADER,\r\n  SET_IS_CHECKED,\r\n  GET_FROM_LOCAL_STORAGE\r\n} from \"./types\";\r\nimport { mappedUsersHelper } from \"../Utils/mappedUsersHelper\";\r\nimport { getFromLocalStHelper } from \"../Utils/getFromLocalStHelper\";\r\n\r\nconst handlers = {\r\n  [SHOW_PRELOADER]: (state) => ({ ...state, loading: true }),\r\n  [HIDE_PRELOADER]: (state) => ({ ...state, loading: false }),\r\n  [FETCH_USERS]: (state, { payload }) => ({ ...state, users: payload }),\r\n  [SET_IS_CHECKED]: (state, { payload, userId }) => ({\r\n    ...state,\r\n    users: mappedUsersHelper(payload, userId),\r\n  }),\r\n  [GET_FROM_LOCAL_STORAGE]: (state) => ({...state, users: getFromLocalStHelper(state.users)}),\r\n  DEFAULT: (state) => state,\r\n};\r\n\r\nexport const usersReducer = (state, action) => {\r\n  const handle = handlers[action.type] || handlers.DEFAULT;\r\n  return handle(state, action);\r\n};\r\n","import React, { useReducer } from \"react\";\r\nimport axios from \"axios\";\r\nimport { UsersContext } from \"./usersContext\";\r\nimport { usersReducer } from \"./usersReducer\";\r\nimport {\r\n  FETCH_USERS,\r\n  GET_FROM_LOCAL_STORAGE,\r\n  HIDE_PRELOADER,\r\n  SET_IS_CHECKED,\r\n  SHOW_PRELOADER,\r\n} from \"./types\";\r\nimport { setToLocalStorage } from '../Utils/localStHelper';\r\n\r\nexport const UsersState = ({ children }) => {\r\n  const initialState = {\r\n    users: [],\r\n    checkedUsers: [],\r\n    loading: false,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(usersReducer, initialState);\r\n\r\n  const showPreloader = () => dispatch({ type: SHOW_PRELOADER });\r\n  const hidePreloader = () => dispatch({ type: HIDE_PRELOADER });\r\n\r\n  const fetchUsers = async () => {\r\n    showPreloader();\r\n    const res = await axios.get(\r\n      \"https://yalantis-react-school-api.yalantis.com/api/task0/users\"\r\n    );\r\n    hidePreloader();\r\n    const payload = res.data.map((user) => {\r\n      return {\r\n        ...user,\r\n        isChecked: false,\r\n      };\r\n    });\r\n    dispatch({ type: FETCH_USERS, payload });\r\n  };\r\n\r\n  const getDataFromLocalStorage = () => {\r\n    dispatch({type: GET_FROM_LOCAL_STORAGE});\r\n  }\r\n\r\n\r\n  const setIsUserChecked = (userId) => {\r\n    dispatch({ type: SET_IS_CHECKED, payload: state.users, userId });\r\n    setToLocalStorage(userId);\r\n  };\r\n\r\n  return (\r\n    <UsersContext.Provider\r\n      value={{\r\n        fetchUsers,\r\n        getDataFromLocalStorage,\r\n        users: state.users,\r\n        loading: state.loading,\r\n        setIsUserChecked,\r\n      }}\r\n    >\r\n      {children}\r\n    </UsersContext.Provider>\r\n  );\r\n};\r\n","import store from \"store\";\r\n\r\nexport const setToLocalStorage = (userId) => {\r\n  const initialStore = store.get(\"activeUsers\") || [];\r\n  const isMacthed = initialStore.includes(userId);\r\n  const activeUsers = initialStore.filter((id) => id !== userId);\r\n\r\n  isMacthed\r\n    ? store.set(\"activeUsers\", activeUsers)\r\n    : store.set(\"activeUsers\", [...initialStore, userId]);\r\n};\r\n","import React from \"react\";\r\nimport { format } from \"date-fns\";\r\n\r\nexport const UserBirth = ({ filteredUsers }) => {\r\n  return (\r\n    <div className=\"birth-item\">\r\n      {filteredUsers.map((u) => {\r\n        const date = format(new Date(u.dob), \"dd MMMM, yyyy 'year'\");\r\n        return (\r\n          <li key={u.id}>\r\n            <span>{u.lastName}</span>\r\n            <span>{u.firstName}</span>-<span className=\"date\">{date}</span>\r\n          </li>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { getMonth } from \"date-fns\";\r\nimport { UserBirth } from \"./UserBirth\";\r\n\r\nexport const BirthBlock = ({ users }) => {\r\n  const months = [\r\n    \"January\",\r\n    \"Feburary\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\",\r\n  ];\r\n  const checkedUsers = users.filter((u) => u.isChecked);\r\n  if (checkedUsers.length === 0) {\r\n    return <h3>No employees selected</h3>;\r\n  }\r\n  return (\r\n    <>\r\n      {months.map((m, index) => {\r\n        const filteredUsers = checkedUsers.filter(\r\n          (u) => months.indexOf(m) === getMonth(new Date(u.dob))\r\n        );\r\n        return (\r\n          <div key={index} className=\"birth-block\">\r\n            {filteredUsers.length > 0 ? (\r\n              <>\r\n                <h4>{m}</h4>\r\n                <ul>\r\n                  <UserBirth filteredUsers={filteredUsers} />\r\n                </ul>\r\n              </>\r\n            ) : null}\r\n          </div>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/drawing_pin.710f7ea5.png\";","import React from \"react\";\r\nimport { BirthBlock } from \"./BirthBlock/BirthBlock\";\r\nimport pinImg from \"../../assets/images/drawing_pin.png\";\r\n\r\nexport const UsersBirth = ({ users }) => {\r\n  return (\r\n    <div className=\"birth-container\">\r\n      <img src={pinImg} alt=\"Drawing pin\"></img>\r\n      <h2>Employees birthday</h2>\r\n      <BirthBlock users={users} />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { UsersContext } from \"../../../context/usersContext\";\r\n\r\nexport const AbcBlockUsers = ({ filteredUsers }) => {\r\n  //Returns array of User components created from previously filtered users.\r\n  const mappedUsers = filteredUsers.map((u) => {\r\n    return (\r\n      <User\r\n        isChecked={u.isChecked}\r\n        key={u.id}\r\n        lastName={u.lastName}\r\n        firstName={u.firstName}\r\n        id={u.id}\r\n      />\r\n    );\r\n  });\r\n  return <>{mappedUsers}</>;\r\n};\r\n\r\nconst User = ({ isChecked, lastName, firstName, id }) => {\r\n  const { setIsUserChecked } = useContext(UsersContext);\r\n  const onCheckedHandle = () => {\r\n    setIsUserChecked(id);\r\n  };\r\n  return (\r\n    <div className=\"abc-user\">\r\n      <span>{lastName}</span>\r\n      <span>{firstName}</span>\r\n      <div className=\"space\"></div>\r\n      <input\r\n        checked={isChecked}\r\n        onChange={() => onCheckedHandle()}\r\n        type=\"checkbox\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { AbcBlockUsers } from \"./AbcBlockUsers\";\r\n\r\nexport const AbcBlock = ({ users }) => {\r\n  const alphabet = \"abcdefghijklmnopqrstuvwxyz\".toUpperCase().split(\"\");\r\n  return (\r\n    <>\r\n      {alphabet.map((letter, index) => {\r\n         //Filtering out users that aren't equal to certain letter in alphabet.\r\n        const filteredUsers = users.filter((u) => u.lastName[0] === letter);  \r\n        return (\r\n          <div className='abc-block' key={index}>\r\n            <h1>{letter}</h1>\r\n            {filteredUsers.length > 0 ?  <AbcBlockUsers filteredUsers={filteredUsers}/> : <div>--------</div>}\r\n          </div>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { AbcBlock } from \"./AbcBlock/AbcBlock\";\r\n\r\nexport const UsersList = ({ users, onAddBirthday }) => {\r\n  return (\r\n    <div className=\"abc-container\">\r\n      <div className=\"users-list-title\">Employees</div>\r\n      <AbcBlock users={users} />\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const Preloader = () => {\r\n  return <div className=\"loader\">Loading...</div>;\r\n};\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { UsersBirth } from \"../components/UsersBirth/UsersBirth\";\r\nimport { UsersList } from \"../components/UsersList/UsersList\";\r\nimport { UsersContext } from \"../context/usersContext\";\r\nimport { Preloader } from \"../components/Preloader\";\r\n\r\nexport const Employees = () => {\r\n  const { fetchUsers, getDataFromLocalStorage, users, loading } = useContext(\r\n    UsersContext\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchUsers().then(() => {\r\n      getDataFromLocalStorage();\r\n    });\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {loading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <>\r\n          <UsersList users={users} />\r\n          <UsersBirth users={users} />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import { Redirect, Route, Switch } from \"react-router-dom\";\nimport { UsersState } from \"./context/UsersState\";\nimport { Employees } from \"./pages/Employees\";\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <UsersState>\n        <Switch>\n          <Route path=\"/employees\" exact component={Employees} />\n          <Route path=\"/\">\n            <Redirect to=\"/employees\" />\n          </Route>\n        </Switch>\n      </UsersState>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}