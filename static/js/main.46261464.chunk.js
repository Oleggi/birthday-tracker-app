(this["webpackJsonpreact-app-test"]=this["webpackJsonpreact-app-test"]||[]).push([[0],{46:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var n,r=c(0),s=c(1),a=c.n(s),i=c(34),j=c.n(i),u=(c(46),c(4)),d=c(21),l=c.n(d),b=c(5),o=c(35),O=c(38),h=c(36),f=c.n(h),p=Object(s.createContext)(),x=c(11),m="SHOW_PRELOADER",v="HIDE_PRELOADER",y="FETCH_USERS",g="FETCH_USERS",N="GET_FROM_LOCAL_STORAGE",k=function(e,t){return e.map((function(e){return e.id===t?Object(b.a)(Object(b.a)({},e),{},{isChecked:!e.isChecked}):e}))},C=c(14),U=c.n(C),E=function(e){var t=U.a.get("activeUsers")||[];return t.length<0?e:e.map((function(e){return t.includes(e.id)?Object(b.a)(Object(b.a)({},e),{},{isChecked:!0}):e}))},F=(n={},Object(x.a)(n,m,(function(e){return Object(b.a)(Object(b.a)({},e),{},{loading:!0})})),Object(x.a)(n,v,(function(e){return Object(b.a)(Object(b.a)({},e),{},{loading:!1})})),Object(x.a)(n,y,(function(e,t){var c=t.payload;return Object(b.a)(Object(b.a)({},e),{},{users:c})})),Object(x.a)(n,g,(function(e,t){var c=t.payload,n=t.userId;return Object(b.a)(Object(b.a)({},e),{},{users:k(c,n)})})),Object(x.a)(n,N,(function(e){return Object(b.a)(Object(b.a)({},e),{},{users:E(e.users)})})),Object(x.a)(n,"DEFAULT",(function(e){return e})),n),D=function(e,t){return(F[t.type]||F.DEFAULT)(e,t)},S=c(39),w=function(e){var t=e.children,c=Object(s.useReducer)(D,{users:[],checkedUsers:[],loading:!1}),n=Object(O.a)(c,2),a=n[0],i=n[1],j=function(){var e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:m}),e.next=3,f.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 3:t=e.sent,i({type:v}),c=t.data.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{isChecked:!1})})),i({type:y,payload:c});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.jsx)(p.Provider,{value:{fetchUsers:j,getDataFromLocalStorage:function(){i({type:N})},users:a.users,loading:a.loading,setIsUserChecked:function(e){i({type:g,payload:a.users,userId:e}),function(e){var t=U.a.get("activeUsers")||[],c=t.includes(e),n=t.filter((function(t){return t!==e}));c?U.a.set("activeUsers",n):U.a.set("activeUsers",[].concat(Object(S.a)(t),[e]))}(e)}},children:t})},A=c(80),L=c(81),R=function(e){var t=e.filteredUsers;return Object(r.jsx)("div",{className:"birth-item",children:t.map((function(e){var t=Object(L.a)(new Date(e.dob),"dd MMMM, yyyy 'year'");return Object(r.jsxs)("li",{children:[Object(r.jsx)("span",{children:e.lastName}),Object(r.jsx)("span",{children:e.firstName}),"-",Object(r.jsx)("span",{className:"date",children:t})]},e.id)}))})},M=function(e){var t=e.users,c=["January","Feburary","March","April","May","June","July","August","September","October","November","December"],n=t.filter((function(e){return e.isChecked}));return 0===n.length?Object(r.jsx)("h3",{children:"No employees selected"}):Object(r.jsx)(r.Fragment,{children:c.map((function(e,t){var s=n.filter((function(t){return c.indexOf(e)===Object(A.a)(new Date(t.dob))}));return Object(r.jsx)("div",{className:"birth-block",children:s.length>0?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h4",{children:e}),Object(r.jsx)("ul",{children:Object(r.jsx)(R,{filteredUsers:s})})]}):null},t)}))})},_=c.p+"static/media/drawing_pin.710f7ea5.png",I=function(e){var t=e.users;return Object(r.jsxs)("div",{className:"birth-container",children:[Object(r.jsx)("img",{src:_,alt:"Drawing pin"}),Object(r.jsx)("h2",{children:"Employees birthday"}),Object(r.jsx)(M,{users:t})]})},T=function(e){var t=e.filteredUsers.map((function(e){return Object(r.jsx)(J,{isChecked:e.isChecked,lastName:e.lastName,firstName:e.firstName,id:e.id},e.id)}));return Object(r.jsx)(r.Fragment,{children:t})},J=function(e){var t=e.isChecked,c=e.lastName,n=e.firstName,a=e.id,i=Object(s.useContext)(p).setIsUserChecked;return Object(r.jsxs)("div",{className:"abc-user",children:[Object(r.jsx)("span",{children:c}),Object(r.jsx)("span",{children:n}),Object(r.jsx)("div",{className:"space"}),Object(r.jsx)("input",{checked:t,onChange:function(){i(a)},type:"checkbox"})]})},H=function(e){var t=e.users,c="abcdefghijklmnopqrstuvwxyz".toUpperCase().split("");return Object(r.jsx)(r.Fragment,{children:c.map((function(e,c){var n=t.filter((function(t){return t.lastName[0]===e}));return Object(r.jsxs)("div",{className:"abc-block",children:[Object(r.jsx)("h1",{children:e}),n.length>0?Object(r.jsx)(T,{filteredUsers:n}):Object(r.jsx)("div",{children:"--------"})]},c)}))})},P=function(e){var t=e.users;e.onAddBirthday;return Object(r.jsxs)("div",{className:"abc-container",children:[Object(r.jsx)("div",{className:"users-list-title",children:"Employees"}),Object(r.jsx)(H,{users:t})]})},B=function(){return Object(r.jsx)("div",{className:"loader",children:"Loading..."})},G=function(){var e=Object(s.useContext)(p),t=e.fetchUsers,c=e.getDataFromLocalStorage,n=e.users,a=e.loading;return Object(s.useEffect)((function(){t().then((function(){c()}))}),[]),Object(r.jsx)("div",{className:"container",children:a?Object(r.jsx)(B,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(P,{users:n}),Object(r.jsx)(I,{users:n})]})})};var q=function(){return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)(w,{children:[Object(r.jsx)(u.d,{children:Object(r.jsx)(u.b,{path:"/employees",exact:!0,component:G})}),Object(r.jsx)(u.b,{path:"/",children:Object(r.jsx)(u.a,{to:"/employees"})})]})})},z=c(20);j.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(z.a,{basename:"/",children:Object(r.jsx)(q,{})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.46261464.chunk.js.map