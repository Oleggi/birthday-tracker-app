(this["webpackJsonpreact-app-test"]=this["webpackJsonpreact-app-test"]||[]).push([[0],{12:function(e,t,r){e.exports={abc_container:"usersList_abc_container__1jIgJ",abc_block:"usersList_abc_block__3W53E",users_list_title:"usersList_users_list_title__1Kqqt",abc_user:"usersList_abc_user__deQki",space:"usersList_space__1WSvp"}},13:function(e,t,r){e.exports={birth_container:"usersBirth_birth_container__1Pkf_",birth_block:"usersBirth_birth_block__3hC4b",birth_item:"usersBirth_birth_item__2xSbI",date:"usersBirth_date__2b2tU"}},39:function(e,t,r){e.exports={loader:"Preloader_loader__2dBiO",load5:"Preloader_load5__1JE3y"}},49:function(e,t,r){},82:function(e,t,r){"use strict";r.r(t);var c,s=r(0),n=r(1),a=r.n(n),i=r(36),u=r.n(i),j=(r(49),r(4)),b=r(23),o=r.n(b),l=r(5),d=r(37),O=r(41),h=r(38),f=r.n(h),p=Object(n.createContext)(),_=r(11),x="SHOW_PRELOADER",m="HIDE_PRELOADER",v="FETCH_USERS",g="FETCH_USERS",y="GET_FROM_LOCAL_STORAGE",k=function(e,t){return e.map((function(e){return e.id===t?Object(l.a)(Object(l.a)({},e),{},{isChecked:!e.isChecked}):e}))},N=r(16),C=r.n(N),E=function(e){var t=C.a.get("activeUsers")||[];return t.length<0?e:e.map((function(e){return t.includes(e.id)?Object(l.a)(Object(l.a)({},e),{},{isChecked:!0}):e}))},U=(c={},Object(_.a)(c,x,(function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!0})})),Object(_.a)(c,m,(function(e){return Object(l.a)(Object(l.a)({},e),{},{loading:!1})})),Object(_.a)(c,v,(function(e,t){var r=t.payload;return Object(l.a)(Object(l.a)({},e),{},{users:r})})),Object(_.a)(c,g,(function(e,t){var r=t.payload,c=t.userId;return Object(l.a)(Object(l.a)({},e),{},{users:k(r,c)})})),Object(_.a)(c,y,(function(e){return Object(l.a)(Object(l.a)({},e),{},{users:E(e.users)})})),Object(_.a)(c,"DEFAULT",(function(e){return e})),c),L=function(e,t){return(U[t.type]||U.DEFAULT)(e,t)},F=r(42),S=function(e){var t=e.children,r=Object(n.useReducer)(L,{users:[],checkedUsers:[],loading:!1}),c=Object(O.a)(r,2),a=c[0],i=c[1],u=function(){var e=Object(d.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i({type:x}),e.next=3,f.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users");case 3:t=e.sent,i({type:m}),r=t.data.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{isChecked:!1})})),i({type:v,payload:r});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.jsx)(p.Provider,{value:{fetchUsers:u,getDataFromLocalStorage:function(){i({type:y})},users:a.users,loading:a.loading,setIsUserChecked:function(e){i({type:g,payload:a.users,userId:e}),function(e){var t=C.a.get("activeUsers")||[],r=t.includes(e),c=t.filter((function(t){return t!==e}));r?C.a.set("activeUsers",c):C.a.set("activeUsers",[].concat(Object(F.a)(t),[e]))}(e)}},children:t})},D=r(83),w=r(84),R=r(13),A=r.n(R),I=function(e){var t=e.filteredUsers;return Object(s.jsx)("div",{className:A.a.birth_item,children:t.map((function(e){var t=Object(w.a)(new Date(e.dob),"dd MMMM, yyyy 'year'");return Object(s.jsxs)("li",{children:[Object(s.jsx)("span",{children:e.lastName}),Object(s.jsx)("span",{children:e.firstName}),"-",Object(s.jsx)("span",{className:A.a.date,children:t})]},e.id)}))})},M=["January","Feburary","March","April","May","June","July","August","September","October","November","December"],J=function(e){var t=e.users.filter((function(e){return e.isChecked}));return 0===t.length?Object(s.jsx)("h3",{children:"No employees selected"}):Object(s.jsx)(s.Fragment,{children:M.map((function(e,r){var c=t.filter((function(t){return M.indexOf(e)===Object(D.a)(new Date(t.dob))}));return Object(s.jsx)("div",{className:A.a.birth_block,children:c.length>0?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h4",{children:e}),Object(s.jsx)("ul",{children:Object(s.jsx)(I,{filteredUsers:c})})]}):null},r)}))})},B=r.p+"static/media/drawing_pin.710f7ea5.png",P=function(e){var t=e.users;return Object(s.jsxs)("div",{className:A.a.birth_container,children:[Object(s.jsx)("img",{src:B,alt:"Drawing pin"}),Object(s.jsx)("h2",{children:"Employees birthday"}),Object(s.jsx)(J,{users:t})]})},T=r(12),H=r.n(T),q=function(e){var t=e.filteredUsers.map((function(e){return Object(s.jsx)(W,{isChecked:e.isChecked,lastName:e.lastName,firstName:e.firstName,id:e.id},e.id)}));return Object(s.jsx)(s.Fragment,{children:t})},W=function(e){var t=e.isChecked,r=e.lastName,c=e.firstName,a=e.id,i=Object(n.useContext)(p).setIsUserChecked;return Object(s.jsxs)("div",{className:H.a.abc_user,children:[Object(s.jsx)("span",{children:r}),Object(s.jsx)("span",{children:c}),Object(s.jsx)("div",{className:H.a.space}),Object(s.jsx)("input",{checked:t,onChange:function(){i(a)},type:"checkbox"})]})},G=function(e){var t=e.users,r="abcdefghijklmnopqrstuvwxyz".toUpperCase().split("");return Object(s.jsx)(s.Fragment,{children:r.map((function(e,r){var c=t.filter((function(t){return t.lastName[0]===e}));return Object(s.jsxs)("div",{className:H.a.abc_block,children:[Object(s.jsx)("h1",{children:e}),c.length>0?Object(s.jsx)(q,{filteredUsers:c}):Object(s.jsx)("div",{children:"--------"})]},r)}))})},z=function(e){var t=e.users;return Object(s.jsxs)("div",{className:H.a.abc_container,children:[Object(s.jsx)("div",{className:H.a.users_list_title,children:"Employees"}),Object(s.jsx)(G,{users:t})]})},K=r(39),Q=r.n(K),V=function(){return Object(s.jsx)("div",{className:Q.a.loader,children:"Loading..."})},X=function(){var e=Object(n.useContext)(p),t=e.fetchUsers,r=e.getDataFromLocalStorage,c=e.users,a=e.loading;return Object(n.useEffect)((function(){t().then((function(){r()}))}),[]),Object(s.jsx)("div",{className:"container",children:a?Object(s.jsx)(V,{}):Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(z,{users:c}),Object(s.jsx)(P,{users:c})]})})};var Y=function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsxs)(S,{children:[Object(s.jsx)(j.d,{children:Object(s.jsx)(j.b,{path:"/employees",exact:!0,component:X})}),Object(s.jsx)(j.b,{path:"/",children:Object(s.jsx)(j.a,{to:"/employees"})})]})})},Z=r(22);u.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(Z.a,{basename:"/",children:Object(s.jsx)(Y,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.65d7bee7.chunk.js.map